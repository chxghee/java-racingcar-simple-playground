# 🏎️ 자동차 경주

> 주어진 횟수 동안 레이싱에 참여하는 자동차를 움직이고 우승자를 가려내는 게임

## 1단계 - 움직이는 자동차

### 📝 기능 요구사항

✅ 자동차는 이름을 가지고 있다.

✅ 자동차는 움직일 수 있다.

☑️ 0에서 9 사이에서 random 값을 구한 후 random 값이 4 이상일 경우 전진하고, 3 이하의 값이면 멈춘다.

### 💻 구현 전략

1. Car 객체에 이름과 현재위치를 저장할 필드 추가
2. 랜덤값이 주어지면 해당 값에 전진할지 말지를 결정하여 현재 위치를 조정할 메서드

### 🤔 고민한 부분들

1. 랜덤값을 `현재 위치를 조정할 메서드` 내부에서 생성하는 것이 맞을까?  
   ➡️ car객체가 테스트하기 어려워 지므로 함수의 인자로 외부에서 랜덤값을 받는 방법으로 구현

<br>

---

## 2단계 - 우승 자동차 구하기

### 📝 기능 요구사항

✅ n대의 자동차가 참여할 수 있다.

✅ 주어진 횟수 동안 n대의 자동차는 전진 또는 멈출 수 있다.

☑️ 0에서 9 사이에서 random 값을 구한 후 random 값이 4 이상일 경우 전진하고, 3 이하의 값이면 멈춘다.

✅ 자동차 경주 게임을 완료한 후 누가 우승했는지를 구할 수 있다. 우승자는 한 명 이상일 수 있다.

### 💻 구현 전략

1. Racing 객체에 레이싱에 참여하는 자동차들을 리스트로 저장할 필드 추가
2. Racing 객체에 우승자들을 저장하는 필드 추가
3. 주어진 n값 만큼 자동차를 생성하여 리스트에 저장
4. 모든 자동차 각각에 대해 랜덤값을 할당하고 자동차를 이동시킬 메서드
5. 주어진 횟수만큼 각 라운드를 진행할 메서드
6. 우승자를 가려내는 메서드

### 🤔 고민한 부분들

1. 우승자들을 필드로 저장할 필요가 있을까?  
   ➡️ 우승자를 필드에 리스트로 저장해 놓으면 추후 O(1)로 조회가 가능하므로 필드에 유지해 놓는 것이 좋다.  
   ➡️ 하지만 `get` 메서드로 조회 시 적절한 예외 처리가 필요하다.

<br>

---

## 3단계 - 게임 실행

### 📝 기능 요구사항

✅ 각 자동차에 이름을 부여할 수 있다. 전진하는 자동차를 출력할 때 자동차 이름을 같이 출력한다.

✅ 자동차 이름은 쉼표(,)를 기준으로 구분하며 이름은 5자 이하만 가능하다.

✅ 사용자는 몇 번의 이동을 할 것인지를 입력할 수 있어야 한다.

✅ 전진하는 조건은 0에서 9 사이에서 random 값을 구한 후 random 값이 4 이상일 경우 전진하고, 3 이하의 값이면 멈춘다.

✅ 자동차 경주 게임을 완료한 후 누가 우승했는지를 알려준다. 우승자는 한 명 이상일 수 있다.

### 💻 구현 전략

1. 입력값을 받는 `InputView` 값을 출력하는 `OutputView`클래스를 통해 입출력 구현
2. 입력값에 대한 처리를 하는 `InputHandler`와 입력값 유효성 검사를 하는 `InputValidator` 클래스
3. 자동차들의 동작을 Cars 라는 일급 컬렉션으로 만들어 일괄적으로 처리 및 책임 분리
4. 게임을 진행할 `RacingGameController 클래스`

### 🤔 고민한 부분들

1. Cars라는 일급 컬렉션을 만들어 모든 자동차들 대한 동작을 하게 했는데 Racing이라는 클래스가 필요할까?  
   ➡️ Cars 를 Racing에서 관리하여 더욱 '레이싱'이라는 비즈니스 로직에 대해 명확한 클래스/메서드 이름을 붙일 수 있는것 같아 좋은 것 같다
2. 사용자가 잘못된 값을 입력하면 프로그램을 종료시켜야 할까?  
   ➡️ InputHandler에서 사용자 값을 입력받고 잘못된 입력 시 에러 메서지를 출력하고 다시 입력받도록 회복하는 예외처리를 하자

<br>

---

## 4단계 - 리팩토링

### 📝 기능 요구사항

✅ 모든 로직에 단위 테스트를 구현한다. 단, UI(System.out, System.in) 로직은 제외한다.

✅ 랜덤한 요소가 존재하는 코드는 어떻게 테스트할 수 있는지 경험한다.

### 💻 구현 전략

1. 랜덤 값에 대한 테스트는 전략 패턴으로 해결
2. 프로그램 내에서 조절할 수 없는 값(사용자 입력, 랜덤값)은 메인 클래스에서 입력 및 생성허여 하위 계층에 전달
3. MVC 패턴을 적용해 보자

### 🤔 고민한 부분들

1. 프로그램 내에서 조절할 수 없는 값은 어느 위치에서 주입할까?  
   ➡️ 처음 구현애는 컨트롤러인 `RacingGameController 클래스` 에서 값을 입력받고 처리하여 모든 프로그램의 시작과 끝을 컨트롤러에서 관리  
   ➡️ 조절할 수 없는 값인 랜덤값과 사용자 입력값을 최상위 계층인 메인 메서드에서 주입하도록 하여 `RacingGameController 클래스`를 테스트 가능하도록 리팩토링
